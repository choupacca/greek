{% extends "base.html" %}
{% block content %}

<h1 class="text-3xl font-bold mb-4">{{ title }}</h1>

<!-- ПОИСКОВОЕ ПОЛЕ -->
<input id="search"
       type="text"
       placeholder="Search…"
       class="w-full mb-4 px-3 py-2 border rounded-md"
       oninput="filterRows()">

<table id="datatable" class="w-full border-collapse text-base">
  {% if headers %}
    <thead class="bg-gray-100">
      <tr>{% for h in headers %}<th class="border p-2 text-left font-semibold">{{ h }}</th>{% endfor %}</tr>
    </thead>
  {% endif %}
  <tbody>
    {% for row in rows %}
      <tr>{% for cell in row %}<td class="border px-3 py-2">{{ cell }}</td>{% endfor %}</tr>
    {% endfor %}
  </tbody>
</table>

<script>
function filterRows(){
  const q = document.getElementById('search').value.toLowerCase();
  document.querySelectorAll('#datatable tbody tr').forEach(tr=>{
    const text = tr.innerText.toLowerCase();
    tr.style.display = text.includes(q) ? '' : 'none';
  });
}
</script>

{% endblock %}